(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{3168:(e,s,t)=>{"use strict";t.d(s,{N:()=>a,k:()=>d});var l=t(851),n=t(9535);let i="https://xdhyqibdexidmldpfvhd.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHlxaWJkZXhpZG1sZHBmdmhkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI2MDkzNzEsImV4cCI6MjA1ODE4NTM3MX0.82OZoLiinChTO7VQ7t2b94dQTHvWYISOmPEQGcuGJqQ",a=(0,l.UU)(i,r),d=()=>(0,n.createBrowserClient)(i,r)},4952:(e,s,t)=>{Promise.resolve().then(t.bind(t,7163))},7163:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var l=t(5155),n=t(2115),i=t(3168);function r(){let[e,s]=(0,n.useState)(""),[t,r]=(0,n.useState)(""),[a,d]=(0,n.useState)(!1),[o,u]=(0,n.useState)(null),[c,m]=(0,n.useState)(!0),h=(0,i.k)(),b=async s=>{s.preventDefault(),d(!0),u(null);try{let s=c?h.auth.signInWithPassword({email:e,password:t}):h.auth.signUp({email:e,password:t}),{error:l}=await s;l?u(l.message):(u(c?"登入成功!":"註冊成功，請檢查電子郵件!"),c&&(window.location.href="/"))}catch(e){u("發生錯誤，請稍後再試"),console.error(e)}finally{d(!1)}};return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:c?"登入":"註冊"}),o&&(0,l.jsx)("div",{className:"p-3 mb-4 rounded text-sm ".concat(o.includes("成功")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o}),(0,l.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"電子郵件"}),(0,l.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>s(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"密碼"}),(0,l.jsx)("input",{id:"password",type:"password",value:t,onChange:e=>r(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsx)("button",{type:"submit",disabled:a,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"處理中...":c?"登入":"註冊"})]}),(0,l.jsx)("div",{className:"mt-4 text-center",children:(0,l.jsx)("button",{onClick:()=>m(!c),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:c?"沒有帳號? 點此註冊":"已有帳號? 點此登入"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[535,441,684,358],()=>s(4952)),_N_E=e.O()}]);